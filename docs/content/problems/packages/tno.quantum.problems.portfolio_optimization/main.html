<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>problems.portfolio_optimization &mdash; TNO Quantum</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/TNO_blue.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>window.MathJax = {"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]]}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Variational classifier" href="../../../examples/variational_classifier.html" />
    <link rel="prev" title="utils.validation" href="../../../packages/packages/tno.quantum.utils/validation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            TNO Quantum
              <img src="../../../../_static/TNO_white.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Instructions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../instructions/installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html">optimization.qubo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/components/main.html">optimization.qubo.components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/solvers/main.html">optimization.qubo.solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/postprocessors/main.html">optimization.qubo.postprocessors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/preprocessors/main.html">optimization.qubo.preprocessors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/packages/tno.quantum.ml/main.html">ml</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.ml/datasets/main.html">ml.datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.ml/classifiers.vc/main.html">ml.classifiers.vc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.ml/classifiers.vc/models/main.html">ml.classifiers.vc.models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../packages/packages/tno.quantum.ml/classifiers.vc/models/expected_value_model.html">ml.classifiers.vc.models.expected_value_model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../packages/packages/tno.quantum.ml/classifiers.vc/models/probability_model.html">ml.classifiers.vc.models.probability_model</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/main.html">communication.qkd_key_rate</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/quantum/main.html">communication.qkd_key_rate.quantum</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/quantum/bb84.html">communication.qkd_key_rate.quantum.bb84</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/quantum/bb84_single_photon.html">communication.qkd_key_rate.quantum.bb84_single_photon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/quantum/bbm92.html">communication.qkd_key_rate.quantum.bbm92</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/classical/main.html">communication.qkd_key_rate.classical</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/classical/cascade.html">communication.qkd_key_rate.classical.cascade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/classical/privacy_amplification.html">communication.qkd_key_rate.classical.privacy_amplification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../packages/packages/tno.quantum.communication.qkd_key_rate/classical/winnow.html">communication.qkd_key_rate.classical.winnow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/packages/tno.quantum.utils/main.html">utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.utils/serialization.html">utils.serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../packages/packages/tno.quantum.utils/validation.html">utils.validation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Problems</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">problems.portfolio_optimization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/variational_classifier.html">Variational classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/portfolio_optimization.html">Portfolio optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/communication_qkd.html">QKD key-rate</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">TNO Quantum</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">problems.portfolio_optimization</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="problems-portfolio-optimization">
<h1>problems.portfolio_optimization<a class="headerlink" href="#problems-portfolio-optimization" title="Permalink to this heading"></a></h1>
<div style="font-style: italic; float: right; position: relative; bottom: 50px; color: #555555;">2.0.0</div><span class="target" id="module-tno.quantum.problems.portfolio_optimization"></span><p>Multi-objective portfolio optimization using QUBO formulation.</p>
<p>This package provides Python code that converts a multi-objective portfolio optimization
problem into a <a class="reference external" href="https://en.wikipedia.org/wiki/Quadratic_unconstrained_binary_optimization">QUBO</a> problem. The transformed problem can then be solved using quantum
annealing techniques.</p>
<p>The following objectives can be considered</p>
<ul class="simple">
<li><p><cite>return on capital</cite>, indicated by ROC,</p></li>
<li><p><cite>diversification</cite>, indicated by the <a class="reference external" href="https://nl.wikipedia.org/wiki/Herfindahl-index">Herfindahl-Hirschman Index</a> HHI.</p></li>
</ul>
<p>Additionally, we allow for capital growth factor and arbitrary emission reduction
constraints to be considered.</p>
<section id="usage-example">
<h2>Usage example:<a class="headerlink" href="#usage-example" title="Permalink to this heading"></a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioOptimizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.optimization.qubo</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolverConfig</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Choose sampler for solving qubo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver_config</span> <span class="o">=</span> <span class="n">SolverConfig</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;simulated_annealing_solver&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;num_reads&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;num_sweeps&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;random_state&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set up penalty coefficients for the constraints</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create portfolio optimization problem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span> <span class="o">=</span> <span class="n">PortfolioOptimizer</span><span class="p">(</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_minimize_hhi</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="n">lambdas1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_maximize_roc</span><span class="p">(</span><span class="n">formulation</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">weights_roc</span><span class="o">=</span><span class="n">lambdas2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_emission_constraint</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">weights</span><span class="o">=</span><span class="n">lambdas3</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">emission_now</span><span class="o">=</span><span class="s2">&quot;emis_intens_now&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">emission_future</span><span class="o">=</span><span class="s2">&quot;emis_intens_future&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;emission&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solve the portfolio optimization problem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">solver_config</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  
<span class="go">                                  outstanding amount  diff ROC  diff diversification  diff outstanding  diff emission</span>
<span class="go">0  (14.0, 473.0, 26.666666666666668, 1410.0, 74.0...  4.105045             -6.102454          1.514694     -29.999998</span>
<span class="go">1  (19.0, 473.0, 28.0, 1196.6666666666667, 68.0, ...  2.574088             -2.556330          1.520952     -29.999992</span>
<span class="go">2  (17.333333333333332, 509.6666666666667, 24.0, ...  2.979830             -6.397679          1.566499     -29.999988</span>
<span class="go">3  (15.666666666666666, 491.3333333333333, 25.333...  1.875721             -4.025964          1.531100     -30.000023</span>
<span class="go">4  (15.666666666666666, 491.3333333333333, 24.0, ...  2.697235             -7.117611          1.555159     -29.999977</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Pareto_front">Pareto front</a>, the set of solutions where one objective can’t be improved without
worsening the other objective, can be computed for return on capital and diversification.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_front</span><span class="p">,</span> <span class="n">plot_points</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">slice_results</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot data points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_points</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;QUBO constraint not met&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_points</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;QUBO constraint met&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Points&quot;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot Pareto front</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_front</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;QUBO constraint not met&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_front</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;QUBO constraint met&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Pareto Front&quot;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../../_images/example.png"><img alt="(Diversification, ROC)-Graph" class="align-center" src="../../../../_images/example.png" style="width: 1200px;" /></a>
</section>
<section id="data-input">
<h2>Data input<a class="headerlink" href="#data-input" title="Permalink to this heading"></a></h2>
<p>The data used for the portfolio optimization can be imported via an excel file, csv file,
json file or as a Pandas <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>.
The data needs to contain at least the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asset</span></code>: The name of the asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outstanding_now</span></code>: Current outstanding amount per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_outstanding_future</span></code>: Lower bound outstanding amount in the future per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_outstanding_future</span></code>: Upper bound outstanding amount in the future per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">income_now</span></code>: Current income per asset, corresponds to return multiplied by the current outstanding amount.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regcap_now</span></code>: Current regulatory capital per asset.</p></li>
</ul>
</div></blockquote>
<p>The table below shows an example dataset with the correct structure.
Note that this is the least amount of columns that need to be present.
More columns are allowed and required for some functionalities.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Example Dataset</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>asset</p></th>
<th class="head"><p>outstanding_now</p></th>
<th class="head"><p>min_outstanding_future</p></th>
<th class="head"><p>max_outstanding_future</p></th>
<th class="head"><p>income_now</p></th>
<th class="head"><p>regcap_now</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Sector 1 COUNTRY 1</p></td>
<td><p>10</p></td>
<td><p>14</p></td>
<td><p>19</p></td>
<td><p>5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>Sector 2 COUNTRY 1</p></td>
<td><p>600</p></td>
<td><p>473</p></td>
<td><p>528</p></td>
<td><p>70</p></td>
<td><p>40</p></td>
</tr>
<tr class="row-even"><td><p>Sector 3 COUNTRY 1</p></td>
<td><p>20</p></td>
<td><p>24</p></td>
<td><p>28</p></td>
<td><p>5</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>Sector 4 COUNTRY 1</p></td>
<td><p>800</p></td>
<td><p>1090</p></td>
<td><p>1410</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>Sector 1 COUNTRY 2</p></td>
<td><p>40</p></td>
<td><p>56</p></td>
<td><p>74</p></td>
<td><p>10</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>Sector 2 COUNTRY 2</p></td>
<td><p>200</p></td>
<td><p>291</p></td>
<td><p>397</p></td>
<td><p>40</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>If the input data file contains the correct information but has different column names,
you can rename the columns without modifying the input file. For more details and
examples, refer to the documentation of
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization._components._io.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a>.</p>
<p>The codebase is based on the following paper:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.mdpi.com/2227-7390/12/9/1291">Aguilera et al., - Multi-objective Portfolio Optimisation Using the Quantum Annealer (2024)</a></p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tno.quantum.problems.portfolio_optimization.</span></span><span class="sig-name descname"><span class="pre">PortfolioData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a> stores the data used for portfolio optimization.</p>
<p>The example below shows how to load and print info for a benchmark dataset.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioData</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_data</span> <span class="o">=</span> <span class="n">PortfolioData</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_data</span><span class="o">.</span><span class="n">print_portfolio_info</span><span class="p">()</span>
<span class="go">PortfolioData: --------- Portfolio information -----------</span>
<span class="go">PortfolioData: Total outstanding now: 21252.70</span>
<span class="go">PortfolioData: ROC now: 1.0642</span>
<span class="go">PortfolioData: HHI now: 1.0000</span>
<span class="go">PortfolioData: Total Emission now: 43355508.00</span>
<span class="go">PortfolioData: Relative emission intensity now: 2040.00</span>
<span class="go">PortfolioData: Expected total outstanding future: 31368.00</span>
<span class="go">PortfolioData: Std dev: 886.39</span>
<span class="go">PortfolioData: Expected average growth factor: 1.4760</span>
<span class="go">PortfolioData: Std dev: 0.0417</span>
<span class="go">PortfolioData: --------- --------------------- -----------</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.__contains__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.__contains__" title="Permalink to this definition"></a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">other</span></code> is part of the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Creates a <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a> object from a pandas <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>.</p>
<p>The portfolio data is expected to contain at least the following columns names:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;assets&quot;</span></code>: The name of the asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;outstanding_now_now&quot;</span></code>: Current outstanding amount per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;min_outstanding_future&quot;</span></code>: Lower bound outstanding amount in the future per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;max_outstanding_future&quot;</span></code>: Upper bound outstanding amount in the future per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;income_now&quot;</span></code>: Current income per asset, corresponds to return multiplied by the current outstanding amount.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;regcap_now&quot;</span></code>: Current regulatory capital per asset.</p></li>
</ul>
</div></blockquote>
<p>Different column names in the dataset can be used, but in that case they need to
be provided as a renaming dictionary to the <code class="docutils literal notranslate"><span class="pre">columns_rename</span></code> argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_dataframe</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>) – <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> containing the portfolio data.</p></li>
<li><p><strong>columns_rename</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]) – to rename columns provided as dict with new column names as keys
and to replace column name as value. Example
<code class="docutils literal notranslate"><span class="pre">{&quot;outstanding_2021&quot;:</span> <span class="pre">&quot;outstanding_now&quot;}</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError if required columns are not present in dataset.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.__len__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.__len__" title="Permalink to this definition"></a></dt>
<dd><p>Length of the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.__repr__" title="Permalink to this definition"></a></dt>
<dd><p>Representation for debugging.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.__str__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.__str__" title="Permalink to this definition"></a></dt>
<dd><p>String representation of the <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.from_file" title="Permalink to this definition"></a></dt>
<dd><p>Reads portfolio data object into <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a>.</p>
<p>The portfolio data is expected to contain at least the following columns names:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;assets&quot;</span></code>: The name of the asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;outstanding_now_now&quot;</span></code>: Current outstanding amount per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;min_outstanding_future&quot;</span></code>: Lower bound outstanding amount in the future per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;max_outstanding_future&quot;</span></code>: Upper bound outstanding amount in the future per asset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;income_now&quot;</span></code>: Current income per asset, corresponds to return multiplied by the current outstanding amount.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;regcap_now&quot;</span></code>: Current regulatory capital per asset.</p></li>
</ul>
</div></blockquote>
<p>Different column names in the dataset can be used, but in that case they need to
be provided as a renaming dictionary to the <code class="docutils literal notranslate"><span class="pre">columns_rename</span></code> argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>) – path to portfolio data. If instead <code class="docutils literal notranslate"><span class="pre">benchmark_dataset</span></code> is
provided, a default benchmark dataset containing 52 assets will be used.</p></li>
<li><p><strong>columns_rename</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]) – to rename columns provided as dict with new column names as keys
and to replace column name as value. Example
<code class="docutils literal notranslate"><span class="pre">{&quot;outstanding_2021&quot;:</span> <span class="pre">&quot;outstanding_now&quot;}</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError if required columns are not present in dataset.</strong> – </p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class="pre">PortfolioDataT</span></code>, bound= PortfolioData)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_capital">
<span class="sig-name descname"><span class="pre">get_capital</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_capital"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_capital" title="Permalink to this definition"></a></dt>
<dd><p>Gets the <cite>capital</cite> data from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <cite>regcap_now</cite> column from the dataset as a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_column" title="Permalink to this definition"></a></dt>
<dd><p>Gets the specified column from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column to get.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>regcap_now</cite> columns from the dataset as a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_income">
<span class="sig-name descname"><span class="pre">get_income</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_income"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_income" title="Permalink to this definition"></a></dt>
<dd><p>Gets the <cite>income</cite> data from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <cite>income_now</cite> column from the dataset as a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_l_bound">
<span class="sig-name descname"><span class="pre">get_l_bound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_l_bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_l_bound" title="Permalink to this definition"></a></dt>
<dd><p>Gets the <cite>l_bound</cite> data from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <cite>min_outstanding_future</cite> column from the dataset as a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_outstanding_now">
<span class="sig-name descname"><span class="pre">get_outstanding_now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_outstanding_now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_outstanding_now" title="Permalink to this definition"></a></dt>
<dd><p>Gets the <cite>outstanding_now</cite> data from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <cite>outstanding_now</cite> column from the dataset as a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_returns">
<span class="sig-name descname"><span class="pre">get_returns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_returns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_returns" title="Permalink to this definition"></a></dt>
<dd><p>Gets the <cite>returns</cite> data from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns is defined as income / outstanding_now</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.get_u_bound">
<span class="sig-name descname"><span class="pre">get_u_bound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.get_u_bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.get_u_bound" title="Permalink to this definition"></a></dt>
<dd><p>Gets the <cite>u_bound</cite> data from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>], <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float64</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <cite>max_outstanding_future</cite> column from the dataset as a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioData.print_portfolio_info">
<span class="sig-name descname"><span class="pre">print_portfolio_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_io.html#PortfolioData.print_portfolio_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioData.print_portfolio_info" title="Permalink to this definition"></a></dt>
<dd><p>Prints information about portfolio data to terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tno.quantum.problems.portfolio_optimization.</span></span><span class="sig-name descname"><span class="pre">PortfolioOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to perform portfolio optimization.</p>
<p>The <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer" title="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioOptimizer</span></code></a> class is used to convert
multi-objective portfolio optimization problems into QUBO problems which can then be
solved using QUBO solving techniques such as simulated or quantum annealing.</p>
<p>The following objectives can be considered</p>
<ul class="simple">
<li><p><cite>return on capital</cite>, indicated by ROC,</p></li>
<li><p><cite>diversification</cite>, indicated by the <a class="reference external" href="https://nl.wikipedia.org/wiki/Herfindahl-index">Herfindahl-Hirschman Index</a> HHI.</p></li>
</ul>
<p>The following constraints can be added</p>
<ul class="simple">
<li><p><cite>capital growth</cite>, demand a minimum increase in outstanding assets.</p></li>
<li><p><cite>emission reduction</cite>, demand a minimum reduction for an arbitrary emission type.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Init <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer" title="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioOptimizer</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_data</strong> (<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization._components._io.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a> | <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>) – Portfolio data represented by either the portfolio data
object, pandas dataframe or path to where portfolio data is stored. See
the docstring of <a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization._components._io.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a>
for data input conventions.</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The number of bits that are used to represent the outstanding amount for
each asset. A fixed point representation is used to represent <cite><span class="math notranslate nohighlight">\(2^k\)</span></cite>
different equidistant values in the range <cite><span class="math notranslate nohighlight">\([LB_i, UB_i]\)</span></cite> for asset i.</p></li>
<li><p><strong>columns_rename</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]) – can be used to rename data columns. See the docstring of
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization._components._io.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a>
for an example.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><strong>TypeError</strong></a> – If the provided portfolio data input has the wrong type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_emission_constraint">
<span class="sig-name descname"><span class="pre">add_emission_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emission_now</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emission_future</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_percentage_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer.add_emission_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_emission_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Adds emission constraint to the portfolio optimization problem.</p>
<p>The constraint is given by</p>
<div class="math notranslate nohighlight">
\[\frac{\sum_{i=1}^Nf_i \cdot x_i}{\sum_{i=1}^N x_i}
=
g_e \frac{\sum_{i=1}^Ne_i \cdot y_i}{\sum_{i=1}^N y_i},\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(N\)</span></cite> is the total number of assets,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(x_i\)</span></cite> is the future outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(e_i\)</span></cite> is the current emission intensity for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(f_i\)</span></cite> is the expected emission intensity at the future for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(g_e\)</span></cite> is the target value for the relative emission reduction.</p></li>
</ul>
</div></blockquote>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioOptimizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span> <span class="o">=</span> <span class="n">PortfolioOptimizer</span><span class="p">(</span><span class="n">portfolio_data</span><span class="o">=</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_emission_constraint</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">emission_now</span><span class="o">=</span><span class="s2">&quot;emis_intens_now&quot;</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">lambdas</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>For the QUBO formulation, see the docs of
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_emission_constraint" title="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_emission_constraint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calc_emission_constraint()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emission_now</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column in the portfolio dataset corresponding to
the variables emission intensity at current time.</p></li>
<li><p><strong>emission_future</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Name of the column in the portfolio dataset corresponding
to the variables emission intensity at future time. If no value is
provided, it is assumed that the emission intensity is constant over
time, i.e., the variable <code class="docutils literal notranslate"><span class="pre">emission_now</span></code> will be used.</p></li>
<li><p><strong>reduction_percentage_target</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – target value for reduction percentage amount.</p></li>
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Name that will be used for emission constraint in the results df.</p></li>
<li><p><strong>weights</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">Optional[ArrayLike]</span></code>) – The coefficients that are considered as penalty parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_growth_factor_constraint">
<span class="sig-name descname"><span class="pre">add_growth_factor_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">growth_target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer.add_growth_factor_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_growth_factor_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Adds outstanding amount growth factor constraint to optimization problem.</p>
<p>The constraint is given by</p>
<p><div class="math notranslate nohighlight">
\[\frac{\sum_{i=1}^N x_i}{\sum_{i=1}^N y_i} = g_c,\]</div>
</p>
<p>where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(N\)</span></cite> is the total number of assets,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(x_i\)</span></cite> is the future outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(g_c\)</span></cite> is the target value for the total growth factor.</p></li>
</ul>
</div></blockquote>
<p>This constraint can only be added once.</p>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioOptimizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span> <span class="o">=</span> <span class="n">PortfolioOptimizer</span><span class="p">(</span><span class="n">portfolio_data</span><span class="o">=</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_growth_factor_constraint</span><span class="p">(</span><span class="n">growth_target</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">lambdas</span><span class="p">)</span>
</pre></div>
</div>
<p>For the QUBO formulation, see the docs of
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_growth_factor_constraint" title="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_growth_factor_constraint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calc_growth_factor_constraint()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>growth_target</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – target value for growth factor total outstanding amount.</p></li>
<li><p><strong>weights</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">Optional[ArrayLike]</span></code>) – The coefficients that are considered as penalty parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If constraint has been added before.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_maximize_roc">
<span class="sig-name descname"><span class="pre">add_maximize_roc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_roc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ancilla_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_stabilize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer.add_maximize_roc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_maximize_roc" title="Permalink to this definition"></a></dt>
<dd><p>Adds the maximize ROC objective to the portfolio optimization problem.</p>
<p>The ROC objective is given by</p>
<div class="math notranslate nohighlight">
\[ROC(x) =
\frac{\sum_{i=1}^N \frac{x_i \cdot r_i}{y_i}}
{\sum_{i=1}^N \frac{x_i \cdot c_i}{y_i}},\]</div>
<p>where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(N\)</span></cite> is the total number of assets,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(x_i\)</span></cite> is the future outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(r_i\)</span></cite> is the return for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(c_i\)</span></cite> is the regulatory capital for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>.</p></li>
</ul>
</div></blockquote>
<p>As the ROC is not a quadratic function, it is approximated using two different
formulations:</p>
<dl>
<dt>formulation 1:</dt><dd><p><div class="math notranslate nohighlight">
\[ROC_1(x)=\sum_{i=1}^N\frac{x_i\cdot r_i}{c_i\cdot y_i}\]</div>
</p>
<p>Adds 1 qubo term, use <code class="docutils literal notranslate"><span class="pre">weights_roc</span></code> to scale.</p>
</dd>
<dt>formulation 2:</dt><dd><p><div class="math notranslate nohighlight">
\[ROC_2(x)=\frac{1}{G_C \cdot C_{21}}\sum_{i=1}^N x_i\frac{r_i}{y_i}\]</div>
</p>
<p>In this formulation, <span class="math notranslate nohighlight">\(G_C \cdot C_{21}\)</span> approximates a fixed regulatory
capital growth which is equal for all assets, where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(1≤G_C&lt;2\)</span></cite> is a growth factor to be estimated using ancilla variables,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(C_{21} = \sum_{i=1}^N c_{i}\)</span></cite> is the sum of all assets’ regulatory capital.</p></li>
</ul>
</div></blockquote>
<p>This formulation adds 2 qubo terms, one for the ROC term, and one to stabilize the
capital growth. The stabilize qubo requires an extra argument <code class="docutils literal notranslate"><span class="pre">ancilla_variables</span></code>.
Use <code class="docutils literal notranslate"><span class="pre">weights_roc</span></code> and <code class="docutils literal notranslate"><span class="pre">weights_stabilize</span></code> to scale both qubo’s accordingly.</p>
</dd>
</dl>
<p>For the QUBO formulation, see the docs of
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc1" title="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc1"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calc_maximize_roc1()</span></code></a> and
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc2" title="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc2"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calc_maximize_roc2()</span></code></a>.</p>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioOptimizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span> <span class="o">=</span> <span class="n">PortfolioOptimizer</span><span class="p">(</span><span class="n">portfolio_data</span><span class="o">=</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_maximize_roc</span><span class="p">(</span><span class="n">formulation</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">weights_roc</span><span class="o">=</span><span class="n">lambdas</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formulation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – the ROC QUBO formulation that is being used.
Possible options are: [1, 2].</p></li>
<li><p><strong>weights_roc</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">Optional[ArrayLike]</span></code>) – The coefficients that are considered as penalty parameter for
maximizing the roc objective.</p></li>
<li><p><strong>ancilla_variables</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The number of ancillary variables that are used to
represent <code class="docutils literal notranslate"><span class="pre">G_C</span></code> using fixed point representation. Only relevant for
roc formulation <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><strong>weights_stabilize</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">Optional[ArrayLike]</span></code>) – The coefficients that are considered as penalty parameter
for the stabilizing constraint. Only relevant for roc formulation <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If invalid formulation is provided.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_minimize_hhi">
<span class="sig-name descname"><span class="pre">add_minimize_hhi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer.add_minimize_hhi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.add_minimize_hhi" title="Permalink to this definition"></a></dt>
<dd><p>Adds the minimize HHI objective to the portfolio optimization problem.</p>
<p>The HHI objective is given by</p>
<p><div class="math notranslate nohighlight">
\[HHI(x) = \sum_{i=1}^N\left(\frac{x_i}{\sum_{j=1}^N x_j}\right)^2,\]</div>
</p>
<p>where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(N\)</span></cite> is the total number of assets,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(x_i\)</span></cite> is the future outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>.</p></li>
</ul>
</div></blockquote>
<p>As the objective contains non-quadratic terms, a QUBO formulation requires
approximations. For the QUBO formulation, see the docs of
<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_minimize_hhi" title="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_minimize_hhi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calc_minimize_hhi()</span></code></a>.</p>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioOptimizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span> <span class="o">=</span> <span class="n">PortfolioOptimizer</span><span class="p">(</span><span class="n">portfolio_data</span><span class="o">=</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambdas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_minimize_hhi</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="n">lambdas</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weights</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">Optional[ArrayLike]</span></code>) – The coefficients that are considered as penalty parameter.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_portfolio_optimizer.html#PortfolioOptimizer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.PortfolioOptimizer.run" title="Permalink to this definition"></a></dt>
<dd><p>Optimizes a portfolio given the set of provided constraints.</p>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">tno.quantum.problems.portfolio_optimization</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortfolioOptimizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span> <span class="o">=</span> <span class="n">PortfolioOptimizer</span><span class="p">(</span><span class="n">portfolio_data</span><span class="o">=</span><span class="s2">&quot;benchmark_dataset&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">add_minimize_hhi</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_optimizer</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>solver_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/types.html#types.UnionType" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code></a>[<a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.SolverConfig" title="tno.quantum.optimization.qubo.components._solvers._solver_config.SolverConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">SolverConfig</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Configuration for the qubo solver to use. Must be a
<code class="docutils literal notranslate"><span class="pre">SolverConfig</span></code> or a mapping with <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;options&quot;</span></code> keys. If
<code class="docutils literal notranslate"><span class="pre">None</span></code> (default) is provided, the <code class="xref py py-class docutils literal notranslate"> <span class="pre">``{&quot;name&quot;:</span> <span class="pre">&quot;simulated_annealing_solver&quot;,</span> <span class="pre">&quot;options&quot;:</span> <span class="pre">{}}`</span></code>.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – If True, print detailed information during execution</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Results.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – if constraints are not set</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tno.quantum.problems.portfolio_optimization.</span></span><span class="sig-name descname"><span class="pre">QuboFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>QuboFactory - A factory class for creating <a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a> instances.</p>
<p>This class provides a convenient interface for constructing intermediate QUBO
matrices for different objectives and constraints.</p>
<ul class="simple">
<li><p><cite>calc_minimize_hhi</cite>: Calculates the to minimize HHI QUBO.</p></li>
<li><p><cite>calc_maximize_roc1</cite>: Calculates the to maximize return on capital QUBO variant 1.</p></li>
<li><p><cite>calc_maximize_roc2</cite>: Calculates the to maximize return on capital QUBO variant 2.</p></li>
<li><p><cite>calc_emission_constraint</cite>: Calculates the emission constraint QUBO.</p></li>
<li><p><cite>calc_growth_factor_constraint</cite>: Calculates the growth factor constraint QUBO.</p></li>
<li><p><cite>calc_stabilize_c</cite>: Calculates the constraint QUBO that stabilizes growth factor.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Init of the <code class="docutils literal notranslate"><span class="pre">QuboFactory</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_data</strong> (<a class="reference internal" href="#tno.quantum.problems.portfolio_optimization.PortfolioData" title="tno.quantum.problems.portfolio_optimization._components._io.PortfolioData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortfolioData</span></code></a>) – Data of the portfolio to optimize.</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – The number of bits that are used to represent the outstanding amount for
each asset. A fixed point representation is used to represent <cite><span class="math notranslate nohighlight">\(2^k\)</span></cite>
different equidistant values in the range <cite><span class="math notranslate nohighlight">\([LB_i, UB_i]\)</span></cite> for asset i.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_emission_constraint">
<span class="sig-name descname"><span class="pre">calc_emission_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emission_now</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emission_future</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_percentage_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.calc_emission_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_emission_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Calculate emission constraint QUBO for arbitrary reduction target.</p>
<p>The QUBO formulation is given by</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}QUBO(x)
&amp;=
\left(
\sum_{i=1}^N f_i x_i
- g_e E
\sum_{i=1}^N x_i
\right)^2,\\x_i &amp; = LB_i+\frac{UB_i-LB_i}{2^k-1}\sum_{j=0}^{k-1}2^j\cdot x_{i,j},\\E &amp;= \frac{\sum_{i=1}^N e_i \cdot y_i}{\sum_{i=1}^N y_i},\end{aligned}\end{align} \]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(LB_i\)</span></cite> is the lower bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(UB_i\)</span></cite> is the upper bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(k\)</span></cite> is the number of bits,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(e_i\)</span></cite> is the current emission intensity for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(f_i\)</span></cite> is the expected emission intensity at the future for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(g_e\)</span></cite> is the target value for the relative emission reduction,</p></li>
<li><p>and <cite><span class="math notranslate nohighlight">\(x_{i,j}\)</span></cite> are the <span class="math notranslate nohighlight">\(k\)</span> binary variables for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite> with <span class="math notranslate nohighlight">\(j&lt;k\)</span>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emission_now</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column in the portfolio dataset corresponding to
the variables at current time.</p></li>
<li><p><strong>emission_future</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Name of the column in the portfolio dataset corresponding
to the variables at future time. If no value is provided, it is assumed
that the value is constant over time, i.e., the variable
<code class="docutils literal notranslate"><span class="pre">emission_now</span></code> will be used.</p></li>
<li><p><strong>reduction_percentage_target</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Target value for reduction percentage amount.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><strong>KeyError</strong></a> – if the provided column names are not in the portfolio_data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.components._qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The QUBO.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_growth_factor_constraint">
<span class="sig-name descname"><span class="pre">calc_growth_factor_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">growth_target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.calc_growth_factor_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_growth_factor_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the growth factor constraint QUBO.</p>
<p>The QUBO formulation is given by</p>
<div class="math notranslate nohighlight">
\[QUBO(x)
=
\left(
\frac{\sum_{i=1}^N LB_i + \frac{UB_i-LB_i}{2^k-1}\sum_{j=0}^{k-1} 2^j\cdot x_{i,j}}{\sum_{i=1}^N y_i}
- g_c
\right)^2\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(LB_i\)</span></cite> is the lower bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(UB_i\)</span></cite> is the upper bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(k\)</span></cite> is the number of bits,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(g_c\)</span></cite> is the target value for the total growth factor,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p>and <cite><span class="math notranslate nohighlight">\(x_{i,j}\)</span></cite> are the <span class="math notranslate nohighlight">\(k\)</span> binary variables for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite> with <span class="math notranslate nohighlight">\(j&lt;k\)</span>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>growth_target</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – target value for growth factor total outstanding amount.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.components._qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The QUBO.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc1">
<span class="sig-name descname"><span class="pre">calc_maximize_roc1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.calc_maximize_roc1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc1" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the to maximize ROC QUBO for variant 1.</p>
<p>The QUBO formulation is given by</p>
<div class="math notranslate nohighlight">
\[QUBO(x)
=
-\sum_{i=1}^N\frac{r_i}{c_i\cdot y_i}
\left(LB_i + \frac{UB_i-LB_i}{2^k-1}\sum_{j=0}^{k-1}2^j\cdot x_{i,j}\right),\]</div>
<p>where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(LB_i\)</span></cite> is the lower bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(UB_i\)</span></cite> is the upper bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(k\)</span></cite> is the number of bits,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(r_i\)</span></cite> is the current return for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(c_i\)</span></cite> is the regulatory capital for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p>and <cite><span class="math notranslate nohighlight">\(x_{i,j}\)</span></cite> are the <span class="math notranslate nohighlight">\(k\)</span> binary variables for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite> with <span class="math notranslate nohighlight">\(j&lt;k\)</span>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.components._qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The QUBO.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc2">
<span class="sig-name descname"><span class="pre">calc_maximize_roc2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.calc_maximize_roc2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_maximize_roc2" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the to maximize ROC QUBO for variant 2.</p>
<p>The QUBO formulation is given by</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}QUBO(x,g)
&amp;=
-
G_{inv}(g) \cdot
\sum_{i=1}^N\frac{r_i}{y_i}
\left(LB_i + \frac{UB_i-LB_i}{2^k-1}\sum_{j=0}^{k-1}2^j\cdot x_{i,j}\right),\\G_{inv}(g) &amp;=
1 + \sum_{j=0}^{k-1} 2^{-j-1}(2^{-j-1} - 1)\cdot g_{j},\end{aligned}\end{align} \]</div>
<p>where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(LB_i\)</span></cite> is the lower bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(UB_i\)</span></cite> is the upper bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(k\)</span></cite> is the number of bits,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(a\)</span></cite> is the number of ancilla variables,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(r_i\)</span></cite> is the return for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(c_i\)</span></cite> is the regulatory capital for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(x_{i,j}\)</span></cite> are the <span class="math notranslate nohighlight">\(k\)</span> binary variables for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite> with <span class="math notranslate nohighlight">\(j&lt;k\)</span>.</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(g_{j}\)</span></cite> are the <span class="math notranslate nohighlight">\(a\)</span> binary ancilla variables with <span class="math notranslate nohighlight">\(j&lt;a\)</span>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.components._qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The QUBO.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_minimize_hhi">
<span class="sig-name descname"><span class="pre">calc_minimize_hhi</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.calc_minimize_hhi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_minimize_hhi" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the to minimize HHI QUBO.</p>
<p>The QUBO formulation is given by</p>
<div class="math notranslate nohighlight">
\[QUBO(x)
=
\sum_{i=1}^N\left(LB_i + \frac{UB_i-LB_i}{2^k-1}\sum_{j=0}^{k-1}2^j\cdot x_{i,j}\right)^2,\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(LB_i\)</span></cite> is the lower bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(UB_i\)</span></cite> is the upper bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(k\)</span></cite> is the number of bits,</p></li>
<li><p>and <cite><span class="math notranslate nohighlight">\(x_{i,j}\)</span></cite> are the <span class="math notranslate nohighlight">\(k\)</span> binary variables for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite> with <span class="math notranslate nohighlight">\(j&lt;k\)</span>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.components._qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The QUBO.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.QuboFactory.calc_stabilize_c">
<span class="sig-name descname"><span class="pre">calc_stabilize_c</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/qubos/_qubo_factory.html#QuboFactory.calc_stabilize_c"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.QuboFactory.calc_stabilize_c" title="Permalink to this definition"></a></dt>
<dd><p>Calculate QUBO that stabilizes the growth factor in second ROC formulation.</p>
<p>The QUBO formulation is given by</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}QUBO(x,g)
&amp;=
\left(
\sum_{i=1}^N\frac{c_i}{y_i}
\left(LB_i + \frac{UB_i-LB_i}{2^k-1}\sum_{j=0}^{k-1}2^j\cdot x_{i,j}\right)
- G_C(g)\sum_{i=1}^N c_i
\right)^2,\\G_C &amp;= 1 + \sum_{j=0}^{k-1} 2^{-j - 1} \cdot g_j,\end{aligned}\end{align} \]</div>
<p>where</p>
<blockquote>
<div><ul class="simple">
<li><p><cite><span class="math notranslate nohighlight">\(LB_i\)</span></cite> is the lower bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(UB_i\)</span></cite> is the upper bound for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(k\)</span></cite> is the number of bits,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(a\)</span></cite> is the number of ancilla variables,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(y_i\)</span></cite> is the current outstanding amount for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(c_i\)</span></cite> is the regulatory capital for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(x_{i,j}\)</span></cite> are the <span class="math notranslate nohighlight">\(k\)</span> binary variables for asset <cite><span class="math notranslate nohighlight">\(i\)</span></cite> with <span class="math notranslate nohighlight">\(j&lt;k\)</span>,</p></li>
<li><p><cite><span class="math notranslate nohighlight">\(g_j\)</span></cite> are the <span class="math notranslate nohighlight">\(a\)</span> ancillary binary variables with <span class="math notranslate nohighlight">\(j&lt;a\)</span>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../packages/packages/tno.quantum.optimization.qubo/main.html#tno.quantum.optimization.qubo.QUBO" title="tno.quantum.optimization.qubo.components._qubo.QUBO"><code class="xref py py-class docutils literal notranslate"><span class="pre">QUBO</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The QUBO.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.plot_front">
<span class="sig-prename descclassname"><span class="pre">tno.quantum.problems.portfolio_optimization.</span></span><span class="sig-name descname"><span class="pre">plot_front</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diversification_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roc_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_visualization.html#plot_front"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.plot_front" title="Permalink to this definition"></a></dt>
<dd><p>Plots a pareto front of the given data-points in a Diversification-ROC plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diversification_values</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">ArrayLike</span></code>) – 1-D <code class="docutils literal notranslate"><span class="pre">ArrayLike</span></code> containing the x values of the plot.</p></li>
<li><p><strong>roc_values</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">ArrayLike</span></code>) – 1-D <code class="docutils literal notranslate"><span class="pre">ArrayLike</span></code> containing the y values of the plot.</p></li>
<li><p><strong>color</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Optional color to use for the points. For an overview of allowed colors
see the <a class="reference external" href="https://matplotlib.org/stable/gallery/color/named_colors.html">Matplotlib Documentation</a>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is given, a default color
will be assigned by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>label</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Label to use in the legend. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is given, no label will be used.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">_Buffer</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_SupportsArray</span></code>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]], <code class="xref py py-class docutils literal notranslate"><span class="pre">_NestedSequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">_SupportsArray</span></code>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]], <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_NestedSequence</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – The marker colors as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>vmin</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – min value of data range that colormap covers as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>vmax</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – max value of data range that colormap covers as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>alpha</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – The alpha blending value as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/types.html#types.UnionType" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="(in Matplotlib v3.10.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colormap</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Colormap instance or registered colormap name as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>ax</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a>]) – <code class="docutils literal notranslate"><span class="pre">Axes</span></code> to plot on. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, a new figure with one <code class="docutils literal notranslate"><span class="pre">Axes</span></code> will be
created.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.PatchCollection" title="(in Matplotlib v3.10.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PatchCollection</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> PathCollection object created by scatter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tno.quantum.problems.portfolio_optimization.plot_points">
<span class="sig-prename descclassname"><span class="pre">tno.quantum.problems.portfolio_optimization.</span></span><span class="sig-name descname"><span class="pre">plot_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diversification_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roc_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/tno/quantum/problems/portfolio_optimization/_components/_visualization.html#plot_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tno.quantum.problems.portfolio_optimization.plot_points" title="Permalink to this definition"></a></dt>
<dd><p>Plots the given data-points in a Diversification-ROC plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diversification_values</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">ArrayLike</span></code>) – 1-D <code class="docutils literal notranslate"><span class="pre">ArrayLike</span></code> containing the x values of the plot.</p></li>
<li><p><strong>roc_values</strong> (<code class="xref py py-const docutils literal notranslate"><span class="pre">ArrayLike</span></code>) – 1-D <code class="docutils literal notranslate"><span class="pre">ArrayLike</span></code> containing the y values of the plot.</p></li>
<li><p><strong>color</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Optional color to use for the points. For an overview of allowed colors
see the <a class="reference external" href="https://matplotlib.org/stable/gallery/color/named_colors.html">Matplotlib Documentation</a>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is given, a default color
will be assigned by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>label</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Label to use in the legend. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is given, no label will be used.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">_Buffer</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_SupportsArray</span></code>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]], <code class="xref py py-class docutils literal notranslate"><span class="pre">_NestedSequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">_SupportsArray</span></code>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]], <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_NestedSequence</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – The marker colors as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>vmin</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – min value of data range that colormap covers as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>vmax</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – max value of data range that colormap covers as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>alpha</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – The alpha blending value as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/types.html#types.UnionType" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="(in Matplotlib v3.10.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colormap</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – Colormap instance or registered colormap name as used by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>.</p></li>
<li><p><strong>ax</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a>]) – <code class="docutils literal notranslate"><span class="pre">Axes</span></code> to plot on. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, a new figure with one <code class="docutils literal notranslate"><span class="pre">Axes</span></code> will be
created.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.PatchCollection" title="(in Matplotlib v3.10.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PatchCollection</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> PathCollection object created by scatter.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../packages/packages/tno.quantum.utils/validation.html" class="btn btn-neutral float-left" title="utils.validation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../examples/variational_classifier.html" class="btn btn-neutral float-right" title="Variational classifier" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2025, TNO Quantum Code Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>